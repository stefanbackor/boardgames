@import "tailwindcss";

/* Custom Fonts */
@font-face {
  font-family: 'LHF Unlovable';
  src: url('/LHFUnlovable.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* Radix UI Themes: Proper font configuration using official CSS custom properties */
.radix-themes {
  --heading-font-family: "Sorts Mill Goudy", serif;
}

/* Background Image - Override Radix dark theme background */
body {
  background-repeat: repeat !important;
  background-attachment: scroll !important;
  background-color: transparent !important;
  background-image: url("https://wsrv.nl/?url=https://cdn.shopify.com/oxygen-v2/24098/8185/16590/2521514/build/_assets/bg-light-rough-tile-TJBBJ7QQ.jpg&output=webp&q=61") !important;
  margin: 0 !important;
}


/* A4 Portrait page setup with small margins */
@page {
  size: A4 portrait;
  margin: 10mm;
}

/* Print Styles */
@media print {
  body {
    background: none !important;
    background-image: none !important;
    margin: 0 !important;
    color: black !important;

    /* Overall zoom/scale reduction for print - adjust value between 0.7-0.95 as needed */
    zoom: 0.85;

    * {
      color: black !important;
    }
  }

  /* Hide no-print elements */
  .no-print,
  .print\:hidden {
    display: none !important;
  }

  /* Remove container width constraints for full-width layout */
  .rt-Container {
    max-width: 100% !important;
    width: 100% !important;
  }

  /* Ensure team sections use column layout when printing */
  .role-grid {
    column-count: var(--columns-count, 2) !important;
    column-gap: 0.75rem !important;
    width: 100% !important;
  }

  .role-grid>* {
    break-inside: avoid !important;
    -webkit-column-break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Ensure role-grid-item displays properly in columns */
  .role-grid-item {
    display: inline-block !important;
    width: 100% !important;
    break-inside: avoid !important;
    -webkit-column-break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Safari fallback: disable columns, use single-column linear layout */
  /* Target Safari specifically using -webkit-hyphens which is Safari-only */
  @supports (-webkit-hyphens:none) {
    .role-grid {
      column-count: 1 !important;
      display: block !important;
    }

    .role-grid-item {
      display: block !important;
      width: 100% !important;
    }

    /* Make role cards compact horizontal layout: image + text inline */
    .role-card,
    .role-card.rt-Flex {
      display: flex !important;
      flex-direction: row !important;
      align-items: center !important;
      justify-content: flex-start !important;
      gap: 0.5rem !important;
      margin: 0 !important;
      height: auto !important;
      min-height: 0 !important;
      max-height: none !important;
      page-break-inside: avoid !important;
      -webkit-column-break-inside: avoid !important;
      /* DEBUG: Red border around entire card */
      /* border: 2px solid red !important; */
    }

    .role-card .role-card-image {
      width: 32px !important;
      height: 32px !important;
    }

    /* Text content should flow inline/stacked next to image */
    .role-card .role-card-text {
      margin: 0 !important;
    }

    .role-card .role-card-ability-break {
      display: none !important;
    }

    /* Compact text sizes for linear layout */
    .role-card .rt-Heading {
      font-family: var(--default-font-family);
      font-size: 0.8rem !important;
      /* line-height: 1.2 !important; */
      /* DEBUG: Orange border around name */
      /* border: 1px solid orange !important; */
    }

    .role-card .rt-Text {
      font-size: 0.8rem !important;
      /* line-height: 1.25 !important; */
      /* DEBUG: Purple border around ability */
      /* border: 1px solid purple !important; */
    }
  }
}

/* Role Card hover effect for remove button */
.role-card:hover .role-card-remove {
  opacity: 1 !important;
}

.role-card:hover .role-card-search {
  opacity: 1 !important;
}

.role-card:hover .role-card-drag {
  opacity: 1 !important;
}

/* dnd-kit drag handle states */
.role-card-drag {
  user-select: none;
  -webkit-user-select: none;
}

.role-card-drag:hover {
  background-color: var(--gray-a4) !important;
}

.role-card-drag:active {
  cursor: grabbing !important;
  background-color: var(--gray-a5) !important;
}

/* Role Avatar hover effect for wiki link overlay */
.role-avatar-link:hover .role-avatar-overlay {
  opacity: 1 !important;
}

/* JSON Syntax Highlighting */
.json-key {
  color: #4ec9b0;
  font-weight: 500;
}

.json-string {
  color: #ce9178;
}

.json-number {
  color: #b5cea8;
}

.json-boolean {
  color: #569cd6;
  font-weight: 600;
}

.json-null {
  color: #569cd6;
  font-style: italic;
}

/* Team section layout - use CSS columns instead of grid */
.role-grid {
  column-count: var(--columns-count, 2);
  column-gap: 0.75rem;
}

.role-grid>* {
  /* Prevent cards/items from breaking across columns/pages (incl. Safari) */
  break-inside: avoid;
  -webkit-column-break-inside: avoid;
  page-break-inside: avoid;
}

/* Extra wrapper specifically around each RoleCard for Safari column bugs */
.role-grid-item {
  break-inside: avoid;
  -webkit-column-break-inside: avoid;
  page-break-inside: avoid;
  display: inline-block;
  width: 100%;
}

/* Single column on small screens for the default two-column layout */
@media (width < theme(--breakpoint-md)) {
  .role-grid {
    column-count: 1;
  }
}